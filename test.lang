module Main;

import TestModule;
import Main;

variant Nat {
    Zero;
    Succ {
        n: Nat;
    };

    proc add(this, other: Nat) : Nat {
        match this {
            Succ { n; } : return n;
            Zero        : return Nat::Zero;
        };
    }
}

proc add(x : Nat, y : Nat) : Nat {
    match x {
        Succ { n; } : return n;
        Zero        : return Nat::Zero;
    };

    return Nat::Zero;
}

proc test() : proc(Nat) : Nat {
    return Nat::Succ;
}

proc main(x : Nat) : Main::Nat {
    return test()(x);
}